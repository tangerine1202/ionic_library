<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabs/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Book Detail</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  <ion-card>
    <ion-card-header>
      <ion-card-title>
        {{selectedBook?.name}}
        <ion-button routerLink="/edit/{{selectedBook?.uid}}" fill="outline" class="ion-float-right">Edit</ion-button>
      </ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item>
          <ion-label position="fixed">Author:</ion-label>
          {{selectedBook?.author}}
        </ion-item>
        <ion-item *ngIf="selectedBook?.ISBN">
          <ion-label position="fixed">ISBN:</ion-label>
          {{selectedBook?.ISBN}}
        </ion-item>
        <ion-item *ngIf="selectedBook?.ownerUid">
          <ion-label position="fixed">Owner:</ion-label>
          {{ownerName}}
        </ion-item>
        <ion-item *ngIf="selectedBook?.borrowerUid">
          <ion-label position="fixed">Borrower:</ion-label>
          {{borrowerName}}
        </ion-item>
      </ion-list>

      <!-- TODO: Check if book is borrowed. if yes, then disable the btn -->
      <ion-button (click)="borrowBook();" [disabled]="selectedBook?.borrowerUid !== null">Borrow book</ion-button>
      <!-- TODO: Check if user borrow this book. if not, then disable the btn -->
      <ion-button (click)="returnBook();" fill="outline"
        [disabled]="selectedBook?.borrowerUid !== authService.userData?.uid">Return book</ion-button>
    </ion-card-content>
  </ion-card>

</ion-content>